# Legacy Tests Directory

## Purpose

This directory contains legacy test scripts that were used during development for manual testing and debugging. Most have been removed as part of Epic 16 (Test Suite Refactoring).

## Current Contents

### Active Scripts

#### `test_hierarchy_simple.py`
**Purpose**: Test fixture generator for hierarchical processing

Creates a multi-level directory structure with Python files for testing hierarchical scanning and batching functionality.

**Usage**:
```bash
python3 tests/legacy/test_hierarchy_simple.py
```

**Generates**:
- `test_hierarchical_test/` - Test directory structure
- 4 Python files across 3 directory levels
- `.codeindex.yaml` configuration file

**Status**: ✅ Actively maintained (fixed in Story 16.1)

### Generated Fixtures

#### `test_hierarchical_test/`
Test fixture directory created by `test_hierarchy_simple.py`. Contains:
- `level1/file1.py`
- `level1/level2a/file2.py`
- `level1/level2b/file3.py`
- `level1/level2a/level3/file4.py`

**Do not edit these files directly** - they are regenerated by the test script.

## Removed Scripts (Story 16.2)

The following debug scripts were removed as obsolete:

- ❌ `test_adaptive_debug.py` - User-specific debug script with hardcoded paths
- ❌ `test_operategoods.py` - Debug script for PHP symbol filtering
- ❌ `test_hierarchical.py` - Manual test with hardcoded PHP project path
- ❌ `test_current_project.py` - Manual test without assertions
- ❌ `test_hierarchical_src.py` - Duplicate manual test

**Reason for removal**:
- Hardcoded user-specific paths
- Not proper pytest tests (no assertions)
- Functionality already covered by proper tests
- Maintained as debug scripts, not test automation

## Future Work

### TODO (Epic 16 Phase 2)
- [ ] Create proper pytest tests for hierarchical module
- [ ] Test hierarchical batch creation
- [ ] Test directory hierarchy building
- [ ] Replace `test_hierarchy_simple.py` with pytest fixture

**Reference**: See `docs/planning/active/epic16-test-suite-refactoring.md`

## Migration Guide

If you need to test hierarchical functionality:

1. **Use existing pytest tests** instead of legacy scripts
2. **For hierarchical features**: Check `src/codeindex/hierarchical.py` usage in `cli_scan.py`
3. **For adaptive features**: Use `tests/test_adaptive_*.py`
4. **For parser features**: Use `tests/test_parser.py` or language-specific tests

## History

- **v0.14.0** (Story 16.1): Fixed trailing newlines in test fixtures
- **v0.14.0** (Story 16.2): Removed 5 obsolete debug scripts, added documentation
- **v0.15.0** (Planned): Create proper pytest for hierarchical, remove this directory

---

**Last Updated**: 2026-02-11
**Epic**: 16 - Test Suite Refactoring
**Story**: 16.2 - Clean legacy tests
