<!-- Generated by codeindex at 2026-02-02T08:52:42+08:00 -->

# README_AI.md - codeindex

## Directory
/Users/dreamlinx/Dropbox/Projects/codeindex

## Purpose
Test suite for hierarchical processing strategy implementation in codeindex, including debug scripts for adaptive symbol selection validation.

## Architecture
Test modules validate the hierarchical scanning system that builds directory trees, detects dependencies, and creates processing batches for parallel execution. Debug scripts verify adaptive configuration loading and symbol filtering behavior.

## Key Components

### hierarchical_strategy.py
- `DirectoryNode` - Represents directory with level, children, parent, and dependency tracking
- `build_directory_tree` - Creates hierarchical tree from directory paths sorted by depth
- `detect_dependencies` - Analyzes imports to build dependency graph between directories
- `create_processing_batches` - Groups directories by level for parallel processing
- `hierarchical_scan` - Orchestrates complete hierarchical processing pipeline
- `resolve_import_to_directory` - Maps import statements to directory paths using heuristic resolution

### Debug Scripts
- `test_adaptive_debug.py` - Tests adaptive configuration loading and limit calculations
- `test_operategoods.py` - Debug script for symbol filtering on specific PHP files

### Test Modules
- `test_current_project.py` - Tests hierarchy building on actual codeindex project with tree visualization
- `test_hierarchical.py` - Core hierarchy building tests on PHP project with full hierarchical processing
- `test_hierarchical_src.py` - Tests with proper .codeindex.yaml configuration handling
- `test_hierarchy_simple.py` - Creates minimal test structure and validates batch creation

## Consumes

| Module | Purpose |
|--------|---------|
| codeindex.config | Configuration management |
| codeindex.hierarchical | Core hierarchical processing functions |
| codeindex.scanner | Directory discovery utilities |
| codeindex.parser | File parsing for symbol extraction |
| codeindex.adaptive_selector | Adaptive symbol selection |
| codeindex.smart_writer | Smart output generation with filtering |

## Provides

| Export | Usage |
|--------|-------|
| DirectoryNode | Data structure for directory representation with hierarchy metadata |
| build_directory_tree | Tree construction from paths with level calculation |
| detect_dependencies | Import-based dependency analysis |
| create_processing_batches | Level-grouped parallel batch creation |
| hierarchical_scan | Complete processing workflow with progress output |

## Imports/Dependencies
- codeindex.config: Config
- codeindex.hierarchical: build_directory_hierarchy, create_processing_batches, scan_directories_hierarchical
- codeindex.scanner: find_all_directories, scan_directory
- codeindex.parser: parse_file
- codeindex.adaptive_selector: AdaptiveSymbolSelector
- codeindex.smart_writer: SmartWriter
- dataclasses: dataclass
- os
- pathlib: Path
- rich.console: Console
- shutil
- sys
- typing: Dict, List, Set
