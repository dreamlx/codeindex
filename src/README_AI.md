<!-- Generated by codeindex at 2026-01-23T16:12:38.962563 -->

# README_AI.md - src

## Purpose
Core module implementing the AI-native code indexing pipeline with multi-language support and hierarchical processing.

## Architecture
```
Directories → Scanner → Parser → Writer → AI CLI → README_AI.md
                      ↓
                Framework Detection & Smart Levels
                      ↓
                Global Symbol Index & Project Index
```

## Key Components

### Core Pipeline
- **Scanner**: Directory traversal with include/exclude filtering
- **Parser**: Multi-language AST parsing (Python/PHP) using tree-sitter
- **Writer**: Smart README generation with 3-level hierarchy
- **Invoker**: External AI CLI integration with timeout handling

### Advanced Features
- **SmartWriter**: Level-based generation (overview/navigation/detailed)
- **DirectoryTree**: Hierarchical level detection for bottom-up processing
- **FrameworkDetect**: ThinkPHP-specific pattern extraction
- **SymbolIndex**: Global symbol aggregation for PROJECT_SYMBOLS.md
- **Incremental**: Git-based change analysis for selective updates

### Utilities
- **Parallel**: Batch processing for files and directories
- **CLICommands**: Comprehensive command interface

## Consumes

| Module/Package | Purpose |
|---------------|---------|
| tree_sitter | Language-agnostic AST parsing |
| tree_sitter_python | Python language support |
| tree_sitter_php | PHP language support |
| click | CLI framework |
| pyyaml | Configuration management |
| rich | Terminal output formatting |

## Provides

| Export | Consumer | Purpose |
|--------|----------|---------|
| scan_directory() | CLI | Core scanning functionality |
| parse_file() | Writer | Symbol extraction |
| SmartWriter | CLI | Level-based README generation |
| GlobalSymbolIndex | CLI | Project-wide symbol index |
| Config | All | Centralized configuration |
| DirectoryTree | Hierarchical | Level determination |
| FrameworkInfo | Writer | Framework-specific insights |