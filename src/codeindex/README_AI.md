<!-- Generated by codeindex at 2026-02-10T18:36:18+08:00 -->

# README_AI.md - codeindex

## Overview

- **Files**: 40
- **Symbols**: 300+
- **Subdirectories**: 2

## Subdirectories

- **extractors/** - Framework-specific route extractors.
- **parsers/** - Java language parser module.

## Files

- __init__.py
- **adaptive_config.py** - AdaptiveSymbolsConfig
- **adaptive_selector.py** - AdaptiveSymbolSelector
- **ai_helper.py** - aggregate_parse_results
- **cli.py** - main
- cli_common.py
- **cli_config.py** - init (with interactive wizard), status, list_dirs
- **cli_docs.py** - docs, show_ai_guide
- **cli_hooks.py** - HookStatus, HookManager, generate_hook_script
- **cli_parse.py** - parse
- **cli_scan.py** - _process_directory_with_smartwriter, scan, scan_all
- **cli_symbols.py** - extract_module_purpose, index, symbols
- **cli_tech_debt.py** - _find_source_files, _analyze_files, _format_and_output
- **config.py** - SymbolsConfig, GroupingConfig, SemanticConfig
- **directory_tree.py** - DirectoryNode, DirectoryTree, walk_directory
- **docstring_processor.py** - DocstringProcessor
- **errors.py** - ErrorCode, ErrorInfo, create_error_response
- __init__.py
- **spring.py** - SpringRouteExtractor
- **thinkphp.py** - ThinkPHPRouteExtractor
- **file_classifier.py** - FileSizeCategory, FileSizeAnalysis, FileSizeClassifier
- **framework_detect.py** - RouteInfo, ModelInfo, FrameworkInfo
- **hierarchical.py** - DirectoryInfo, build_directory_hierarchy, create_processing_batches
- **incremental.py** - UpdateLevel, FileChange, ChangeAnalysis
- **init_wizard.py** - WizardResult, detect_languages, detect_frameworks, infer_include_patterns, infer_exclude_patterns, calculate_parallel_workers, calculate_batch_size, count_files, run_interactive_wizard, generate_config_yaml, create_codeindex_md
- **invoker.py** - InvokeResult, clean_ai_output, validate_markdown_output
- **parallel.py** - BatchResult, parse_files_parallel, scan_directories_parallel
- **parser.py** - CallType, Call, Symbol, Import, Inheritance, ParseResult, JAVA_LANG_CLASSES, build_alias_map, resolve_alias, _extract_python_calls_from_tree, _extract_decorator_calls, _extract_python_calls, _parse_python_call, _determine_python_call_type, _extract_call_name, _is_simple_decorator, _extract_decorator_name, _count_arguments, _extract_package_namespace, _strip_generic_type, _resolve_java_type, _build_java_import_map, _extract_java_inheritances, _extract_type_from_node, _get_parser, _get_node_text, parse_file, _build_java_static_import_map, _resolve_java_static_import, _parse_java_method_call, _parse_java_constructor_call, _extract_java_calls, _extract_java_calls_from_tree, _extract_php_calls_from_tree, _extract_php_calls, _parse_php_function_call, _parse_php_member_call, _parse_php_scoped_call, _parse_php_object_creation
- __init__.py
- **java_parser.py** - is_java_file, get_java_parser, parse_java_file
- **route_extractor.py** - ExtractionContext, RouteExtractor
- **route_registry.py** - RouteExtractorRegistry
- **scanner.py** - ScanResult, get_language_extensions, should_exclude
- **semantic_extractor.py** - DirectoryContext, BusinessSemantic, SimpleDescriptionGenerator
- **smart_writer.py** - WriteResult, SmartWriter, determine_level
- **symbol_index.py** - SymbolEntry, GlobalSymbolIndex
- **symbol_scorer.py** - ScoringContext, SymbolImportanceScorer
- **tech_debt.py** - DebtSeverity, DebtIssue, DebtAnalysisResult
- **tech_debt_formatters.py** - ReportFormatter, ConsoleFormatter, MarkdownFormatter
- **writer.py** - WriteResult, format_symbols_for_prompt, format_imports_for_prompt

---

## Key Components

### Interactive Setup Wizard (NEW)

**File**: `init_wizard.py`

**Purpose**: Intelligent, interactive setup wizard for `codeindex init` command (Epic 15 Story 15.1)

**Core Features**:
- Auto-detects project languages (Python, PHP, Java, etc.)
- Infers include/exclude patterns from project structure
- Auto-tunes performance settings (parallel_workers, batch_size)
- Configures AI CLI integration and Git Hooks
- Generates CODEINDEX.md guide for AI agents
- Supports both interactive and non-interactive (`--yes`) modes

**Key Functions**:
- `detect_languages()` - Scans file extensions to identify programming languages
- `detect_frameworks()` - Identifies web frameworks (Spring, ThinkPHP, Laravel, etc.)
- `infer_include_patterns()` - Suggests source directories to scan
- `infer_exclude_patterns()` - Suggests directories to exclude (node_modules, __pycache__, etc.)
- `calculate_parallel_workers()` - Auto-tunes based on project size and CPU count
- `calculate_batch_size()` - Optimizes batch processing size
- `run_interactive_wizard()` - 5-step interactive setup flow
- `generate_config_yaml()` - Creates .codeindex.yaml from wizard results
- `create_codeindex_md()` - Generates AI agent integration guide

**Design Philosophy**:
- Smart defaults requiring zero manual input
- Complete setup in under 1 minute
- Support both interactive and CI/CD-friendly non-interactive modes

### Enhanced CLI Configuration

**File**: `cli_config.py`

**New Features**:
- `init` command now runs interactive wizard by default
- `--yes` flag for non-interactive mode (CI/CD friendly)
- `--quiet` flag for minimal output
- `--force` flag to overwrite existing config
- Automatic Git Hooks installation (if enabled)
- CODEINDEX.md generation for AI agents

**Behavior**:
- Interactive mode: 5-step wizard with smart defaults
- Non-interactive mode: Auto-detect everything, use conservative defaults
- Post-setup: Provides clear next steps for users

---

## Recent Changes

**Commit ``**: 

Changed files:
- `init_wizard.py` - NEW: Interactive Setup Wizard implementation
- `cli_config.py` - Enhanced init command with wizard integration, added --yes and --quiet flags
- `directory_tree.py` - Improved path resolution timing for consistent exclusion checking
- `scanner.py` - Enhanced exclusion pattern matching with Windows path length optimization and improved ** wildcard handling
