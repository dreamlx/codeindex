<!-- Generated by codeindex at 2026-02-06T09:22:32+08:00 -->

# README_AI.md - examples

## Purpose

Example modules demonstrating codeindex capabilities. Includes system environment reporting utilities and a sample module for LoomGraph integration testing that exercises symbol extraction, import analysis, and inheritance detection.

## Architecture

```
┌─────────────────────┐     ┌─────────────────────┐
│  Standalone Utils   │     │   SystemReporter    │
│  - get_python_info  │────▶│   (aggregator)      │
│  - get_os_info      │     │                     │
│  - get_env_vars     │     │   generate_report() │
└─────────────────────┘     └─────────────────────┘

┌─────────────────────┐     ┌─────────────────────┐     ┌─────────────────────┐
│  BaseModel          │     │  User               │     │  AdminUser          │
│  - save()           │────▶│  (BaseModel,Loggable│────▶│  (User)             │
│  - delete()         │     │   authenticate()    │     │   grant_permission()│
├─────────────────────┤     │   get_permissions() │     │   revoke_permission│
│  Loggable           │     └─────────────────────┘     │   AuditLog (nested)│
│  - log()            │                                  └─────────────────────┘
└─────────────────────┘
```

## Key Components

### print_env.py

| Component | Type | Role |
|-----------|------|------|
| `get_python_info()` | Function | Collects Python version, executable path, and platform |
| `get_os_info()` | Function | Gathers OS system, release, version, machine, and processor info |
| `get_env_vars(prefix)` | Function | Retrieves environment variables with optional prefix filtering |
| `SystemReporter` | Class | Aggregates all system info and generates formatted text reports |

### loomgraph_sample.py

| Component | Type | Role |
|-----------|------|------|
| `BaseModel` | Class | Base model with `save()` and `delete()` CRUD operations |
| `Loggable` | Class | Mixin providing logging via `log()` method |
| `User` | Class | User account model with authentication; inherits `BaseModel`, `Loggable` |
| `AdminUser` | Class | Admin with elevated privileges; inherits `User` |
| `AdminUser.AuditLog` | Nested Class | Audit logging for admin actions |
| `get_user_by_id()` | Function | Retrieve user by ID |
| `create_user()` | Function | Create new user account |

## Consumes

| Module | Import | File | Usage |
|--------|--------|------|-------|
| `os` | stdlib | both | Environment variable access |
| `platform` | stdlib | print_env | OS and platform detection |
| `sys` | stdlib | print_env | Python interpreter info |
| `datetime` | stdlib | both | Timestamps (`datetime`, `datetime as dt`) |
| `logging` | stdlib | both | Output logging |
| `typing` | stdlib | loomgraph_sample | Type hints (`Dict`, `List`, `Optional`) |
| `numpy` | third-party | loomgraph_sample | Data array types (`np.ndarray` alias) |

## Provides

### print_env.py

| Export | Type | Description |
|--------|------|-------------|
| `get_python_info()` | Function | Dict with Python version, executable, and platform |
| `get_os_info()` | Function | Dict with system, release, version, machine, processor |
| `get_env_vars(prefix)` | Function | Dict of environment variables, optionally filtered by prefix |
| `SystemReporter` | Class | Report generator with configurable env var inclusion |

### loomgraph_sample.py

| Export | Type | Description |
|--------|------|-------------|
| `BaseModel` | Class | Base CRUD model with `save()` and `delete()` |
| `Loggable` | Class | Logging mixin with `log()` |
| `User` | Class | User account with `authenticate()` and `get_permissions()` |
| `AdminUser` | Class | Admin with `grant_permission()` and `revoke_permission()` |
| `get_user_by_id(user_id)` | Function | Lookup user by ID, returns `Optional[User]` |
| `create_user(username, email)` | Function | Create and return new `User` instance |

## Inheritance Hierarchy

```
BaseModel ──┐
            ├──▶ User ──▶ AdminUser
Loggable ───┘              └── AuditLog (nested)
```

## Usage

```python
# System reporting
from print_env import SystemReporter
reporter = SystemReporter(include_env=True)
print(reporter.generate_report())

# LoomGraph sample
from loomgraph_sample import User, AdminUser, create_user
user = create_user("alice", "alice@example.com")
admin = AdminUser("admin", "admin@example.com")
admin.grant_permission(1, "admin")
```
